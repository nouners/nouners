@import "tailwindcss";

@theme {
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif;
  --font-mono: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono",
    Courier, monospace;

  --spacing: 0.2rem;

  --breakpoint-xs: 380px;
  --breakpoint-sm: 600px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 960px;
  --breakpoint-xl: 1152px;
  --breakpoint-2xl: 1440px;

  --text-xs: 0.95rem;
  --text-xs--line-height: calc(16 / 9.5);
  --text-sm: 1.2rem;
  --text-sm--line-height: 1.35;
  --text-base: 1.4rem;
  --text-base--line-height: calc(20 / 14);
  --text-lg: 1.6rem;
  --text-lg--line-height: 1.35;
  --text-xl: 1.8rem;
  --text-xl--line-height: 1.3;
  --text-2xl: 2rem;
  --text-2xl--line-height: 1.25;
  --text-3xl: 2.4rem;
  --text-3xl--line-height: 1.2;
  --text-4xl: 3.2rem;
  --text-4xl--line-height: 1.1;

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --radius-xs: 0.3rem;
  --radius-sm: 0.4rem;
  --radius-md: 0.6rem;
  --radius-lg: 0.8rem;
  --radius-xl: 1.2rem;
  --radius-2xl: 1.6rem;
  --radius-full: 999rem;

  --shadow-focus: 0 0 0 0.1rem hsl(210 77% 51%),
    0 0 0 0.3rem hsl(210 77% 51% / 40%);
  --shadow-focus-sm: 0 0 0 0.1rem hsl(210 77% 51%),
    0 0 0 0.2rem hsl(210 77% 51% / 40%);
  --shadow-elevation-low: rgb(15 15 15 / 5%) 0 0 0 1px,
    rgb(15 15 15 / 15%) 0 3px 10px;
  --shadow-elevation-high: rgb(15 15 15 / 5%) 0 0 0 1px,
    rgb(15 15 15 / 10%) 0 5px 10px, rgb(15 15 15 / 20%) 0 15px 40px;

  --color-surface-primary: hsl(0 0% 100%);
  --color-surface-secondary: hsl(60 11% 96%);
  --color-surface-tertiary: hsl(60 11% 94%);
  --color-surface-quaternary: hsl(60 11% 88%);
  --color-surface-overlay: hsl(0 0% 100%);
  --color-surface-popover: hsl(0 0% 100%);
  --color-surface-tooltip: hsl(0 0% 100%);
  --color-surface-muted: hsl(60 12% 30% / 7%);
  --color-surface-strong: hsl(60 12% 30% / 12%);
  --color-surface-contrast: hsl(60 12% 30% / 36%);
  --color-input-placeholder: hsl(45deg 8% 20% / 50%);

  --color-surface-primary-dark: hsl(0 0% 10%);
  --color-surface-secondary-dark: hsl(0 0% 13%);
  --color-surface-tertiary-dark: hsl(0 0% 15%);
  --color-surface-quaternary-dark: hsl(0 0% 23%);
  --color-surface-overlay-dark: hsl(0 0% 13%);
  --color-surface-popover-dark: hsl(0 0% 15%);
  --color-surface-tooltip-dark: hsl(0 0% 17%);
  --color-surface-muted-dark: hsl(0 0% 100% / 5.5%);
  --color-surface-strong-dark: hsl(0 0% 100% / 8%);
  --color-surface-contrast-dark: hsl(0 0% 100% / 26%);
  --color-input-placeholder-dark: hsl(0 0% 100% / 30%);

  --color-accent-primary: hsl(210 77% 51%);
  --color-accent-hover: hsl(210 100% 43%);
  --color-accent-soft: hsl(210 77% 51% / 40%);

  --color-text-normal: hsl(45 8% 20%);
  --color-text-dimmed: hsl(45 2% 46%);
  --color-text-dimmed-hover: hsl(45 2% 52%);
  --color-text-muted: hsl(45 1% 54%);
  --color-text-accent: hsl(0 0% 6%);
  --color-text-primary: hsl(210 90% 48%);
  --color-text-header: hsl(45 8% 20%);
  --color-text-header-secondary: hsl(45 2% 46%);
  --color-text-positive: #0d924d;
  --color-text-positive-contrast: #097045;
  --color-text-negative: #d32335;
  --color-text-negative-contrast: #aa2a38;
  --color-text-special: #8d519d;

  --color-border-light: hsl(0 0% 0% / 15%);
  --color-border-lighter: hsl(0 0% 0% / 12%);
  --color-border-strong: hsl(0 0% 0% / 25%);
  --color-border-danger: hsl(6 71% 72%);

  --color-state-highlight: #9a6700;
  --color-state-highlight-bg: #b8810e26;
  --color-selection: hsl(210 100% 0%);
  --color-state-success-bg: #e0f1e1;
  --color-state-danger-bg: #f2dfdf;
  --color-state-special-bg: #f2dff7;
  --color-state-primary-bg: #deedfd;
  --color-danger-hover: rgb(235 87 87 / 10%);
  --color-mention-text: hsl(210 77% 48%);
  --color-mention-text-hover: hsl(210 77% 45%);
  --color-mention-background: hsl(210 77% 51% / 15%);
  --color-mention-background-hover: hsl(210 77% 51% / 20%);
  --color-mention-focus-border: hsl(210 77% 40% / 50%);
  --color-scheme: light;
  --color-surface-selected: hsl(210 85% 70% / 15%);
  --color-text-muted-alpha: hsl(45deg 8% 20% / 50%);
  --dropdown-min-width: 18rem;
  --dropdown-max-width: calc(100vw - 2rem);
  --dropdown-padding: 0.4rem;
  --dropdown-radius: 0.6rem;
  --dropdown-item-height: 2.8rem;
  --dropdown-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px,
    rgb(15 15 15 / 10%) 0px 3px 6px, rgb(15 15 15 / 20%) 0px 9px 24px;
  --avatar-radius: 50%;
  --avatar-background: var(--color-surface-strong);
  --color-toolbar-background: var(--color-surface-secondary);

  --size-navbar: 4.7rem;
  --size-sidebar: 40rem;
}

[data-theme="dark"],
.theme-dark {
  --color-surface-primary: var(--color-surface-primary-dark);
  --color-surface-secondary: var(--color-surface-secondary-dark);
  --color-surface-tertiary: var(--color-surface-tertiary-dark);
  --color-surface-quaternary: var(--color-surface-quaternary-dark);
  --color-surface-overlay: var(--color-surface-overlay-dark);
  --color-surface-popover: var(--color-surface-popover-dark);
  --color-surface-tooltip: var(--color-surface-tooltip-dark);
  --color-surface-muted: var(--color-surface-muted-dark);
  --color-surface-strong: var(--color-surface-strong-dark);
  --color-surface-contrast: var(--color-surface-contrast-dark);
  --color-input-placeholder: var(--color-input-placeholder-dark);

  --color-text-normal: hsl(0 0% 83%);
  --color-text-dimmed: hsl(0 0% 60%);
  --color-text-dimmed-hover: hsl(0 0% 66%);
  --color-text-muted: hsl(0 0% 40%);
  --color-text-accent: white;
  --color-text-primary: hsl(210 100% 60%);
  --color-text-header: hsl(0 0% 94%);
  --color-text-header-secondary: hsl(0 0% 72%);
  --color-text-positive: #41b579;
  --color-text-positive-contrast: #55c88d;
  --color-text-negative: #f25666;
  --color-text-negative-contrast: #ff7281;
  --color-text-special: #d388e6;

  --color-border-light: hsl(0 0% 100% / 16%);
  --color-border-lighter: hsl(0 0% 100% / 10%);
  --color-border-strong: hsl(0 0% 100% / 50%);
  --color-border-danger: #6e3620;

  --color-state-highlight: #ffd376;
  --color-state-highlight-bg: #b8810e66;
  --color-state-success-bg: #2b3b33;
  --color-state-danger-bg: #3f2f32;
  --color-state-special-bg: #3d2f40;
  --color-state-primary-bg: #253240;
  --color-danger-hover: rgb(235 87 87 / 10%);
  --color-mention-text: hsl(210 77% 95%);
  --color-mention-text-hover: #ffffff;
  --color-mention-background: hsl(210 77% 51% / 30%);
  --color-mention-background-hover: hsl(210 77% 51% / 50%);
  --color-mention-focus-border: hsl(210 77% 51%);
  --color-scheme: dark;
  --color-surface-selected: hsl(210 77% 40% / 15%);
  --color-text-muted-alpha: hsl(0 0% 100% / 28%);
  --dropdown-min-width: 18rem;
  --dropdown-max-width: calc(100vw - 2rem);
  --dropdown-padding: 0.4rem;
  --dropdown-radius: 0.6rem;
  --dropdown-item-height: 2.8rem;
  --dropdown-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px,
    rgba(15, 15, 15, 0.1) 0px 3px 6px, rgba(15, 15, 15, 0.2) 0px 9px 24px;
  --avatar-radius: 50%;
  --avatar-background: var(--color-surface-strong);
  --color-toolbar-background: var(--color-surface-tertiary);
}

:root {
  color: var(--color-text-normal);
  background-color: var(--color-surface-primary);
}

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body,
  h1,
  h2,
  h3,
  h4,
  p,
  figure,
  blockquote,
  dl,
  dd {
    margin: 0;
  }

  ul[role="list"],
  ol[role="list"] {
    list-style: none;
  }

  html,
  body {
    height: 100%;
    width: 100%;
  }

  html {
    font-size: 10px;
  }

  body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    line-height: var(--text-base--line-height);
    text-rendering: optimizeLegibility;
    user-select: none;
  }

  @media (pointer: fine) {
    body {
      overflow: hidden;
    }
  }

  svg,
  img,
  picture {
    display: block;
    max-width: 100%;
  }

  a:not([class]) {
    text-decoration-skip-ink: auto;
  }

  button {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    text-align: left;
    color: inherit;
    font: inherit;
  }

  input,
  textarea,
  select {
    font: inherit;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  ::selection {
    background: var(--color-selection);
  }

  html:focus-within {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html:focus-within {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@utility focus-ring {
  box-shadow: var(--shadow-focus);
}

@utility focus-ring-sm {
  box-shadow: var(--shadow-focus-sm);
}

@utility surface-card {
  background-color: var(--color-surface-secondary);
  box-shadow: var(--shadow-elevation-low);
  border-radius: var(--radius-md);
}

@utility dimmed {
  color: var(--color-text-dimmed);
}

@utility text-dimmed {
  color: var(--color-text-dimmed);
}

@utility nowrap {
  white-space: nowrap;
}

@utility small {
  font-size: var(--text-sm);
  line-height: var(--text-sm--line-height);
}

@utility text-button {
  font-size: 1.5rem;
  line-height: 1.2;
}

@utility text-input {
  font-size: 1.5rem;
  line-height: 1.2;
}

@utility text-dialog-title {
  font-size: 2rem;
  line-height: 1.2;
}

@utility form-spacing {
  margin-top: 2rem;
}

@utility shadow-dropdown {
  box-shadow: var(--dropdown-shadow);
}

@keyframes loading-dots {
  0% {
    opacity: 0.2;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0.2;
  }
}

@utility animate-loading-dots {
  animation: loading-dots 1.4s ease-in-out infinite;
}

@keyframes tray-enter {
  0% {
    opacity: 0;
    transform: translateY(min(100%, 50vh));
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes tray-leave {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(min(100%, 50vh));
  }
}

@keyframes tray-enter-desktop {
  0% {
    opacity: 0;
    transform: translateY(2vh);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes dialog-enter-centered {
  0% {
    opacity: 0;
    transform: translateY(-1vh);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spinner-rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes spinner-dash {
  0% {
    stroke-dasharray: 90 150;
    stroke-dashoffset: 90;
  }
  50% {
    stroke-dasharray: 90 150;
    stroke-dashoffset: -45;
  }
  100% {
    stroke-dasharray: 90 150;
    stroke-dashoffset: -120;
  }
}

@utility animate-spinner-rotate {
  animation: spinner-rotate 2.5s linear infinite;
}

@utility animate-spinner-dash {
  animation: spinner-dash 2s ease-in-out infinite;
}

@layer base {
  .rt {
    --default-block-gap: 1.25em;
    --default-compact-block-gap: 0.625em;
    word-break: break-word;
  }

  .rt p {
    margin: 0;
  }

  .rt * + p {
    margin-top: var(--default-compact-block-gap);
  }

  .rt p:has(+ *) {
    margin-bottom: var(--default-compact-block-gap);
  }

  .rt ul,
  .rt ol {
    padding-left: 1.875em;
    margin: 0;
  }

  .rt ul {
    list-style-type: disc;
  }

  .rt ol {
    list-style-type: decimal;
  }

  .rt * + :is(ul, ol) {
    margin-top: var(--default-block-gap);
  }

  .rt *:is(ul, ol):has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt *:is(ul, ol) :is(ul, ol) {
    margin: 0;
  }

  .rt li > p:not(*:not(style) + *):has(+ :is(ul, ol)) {
    margin-bottom: 0 !important;
  }

  .rt li > p:not(*:not(style) + *) + :is(ul, ol):not(:has(+ *)) {
    margin-top: 0 !important;
  }

  .rt li:has(+ li)
    > * + *:not(:has(+ *)):not(p:not(*:not(style) + *) + :is(ul, ol):not(:has(+ *))) {
    padding-bottom: var(--default-compact-block-gap);
  }

  .rt h1 {
    font-size: 1.375em;
  }

  .rt h2 {
    font-size: 1.125em;
  }

  .rt h3,
  .rt h4,
  .rt h5,
  .rt h6 {
    font-size: 1em;
  }

  .rt * + h1 {
    margin-top: 1.875em;
  }

  .rt h1:has(+ *) {
    margin-bottom: 0.625em;
  }

  .rt * + h2 {
    margin-top: 1.5em;
  }

  .rt h2:has(+ *) {
    margin-bottom: 0.8em;
  }

  .rt * + h3,
  .rt * + h4,
  .rt * + h5,
  .rt * + h6 {
    margin-top: 1.5em;
  }

  .rt *:is(h3, h4, h5, h6):has(+ *) {
    margin-bottom: 0.5em;
  }

  .rt *:is(h1, h2, h3, h4, h5, h6) + *:is(p, ul, ol) {
    margin-top: 0;
  }

  .rt blockquote {
    border-left: 0.3rem solid var(--color-border-light);
    padding-left: 1rem;
    font-style: italic;
  }

  .rt * + blockquote {
    margin-top: var(--default-block-gap);
  }

  .rt blockquote:has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt aside {
    background: var(--color-surface-muted);
    padding: 1em;
    border-radius: 0.6rem;
  }

  .rt * + aside {
    margin-top: var(--default-block-gap);
  }

  .rt aside:has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt code {
    color: var(--color-text-normal);
    background: var(--color-surface-muted);
    border-radius: 0.3rem;
    font-size: 0.85em;
    padding: 0.2em 0.4em;
    font-family: var(--font-mono);
  }

  .rt pre:has(code) {
    margin: 0;
  }

  .rt pre code {
    display: block;
    overflow: auto;
    padding: 1em;
    background: var(--color-surface-muted);
    border-radius: 0.6rem;
    position: relative;
  }

  .rt pre code [data-slate-placeholder] {
    padding: 1em 0;
  }

  .rt * + pre:has(code) {
    margin-top: var(--default-block-gap);
  }

  .rt pre:has(code):has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt a:hover {
    text-decoration: none;
  }

  .rt a.link,
  .rt a.link:active,
  .rt a.link:visited {
    color: var(--color-text-primary);
    text-decoration: none;
    outline: none;
  }

  .rt [data-slate-placeholder] {
    color: var(--color-input-placeholder);
    opacity: 1 !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    top: 0;
  }

  .rt[data-disabled] {
    color: var(--color-text-muted);
    cursor: not-allowed;
  }

  .rt[data-disabled] [data-slate-placeholder] {
    color: var(--color-text-muted);
  }

  .rt a.link:focus-visible {
    text-decoration: underline;
    color: var(--color-text-primary);
  }

  @media (hover: hover) {
    .rt a.link:hover {
      text-decoration: underline;
      color: var(--color-text-primary);
    }
  }

  .rt .image,
  .rt .video {
    display: block;
    border-radius: 0.6rem;
    position: relative;
  }

  .rt .image[data-focused="true"],
  .rt .image:focus-visible,
  .rt .video[data-focused="true"],
  .rt .video:focus-visible {
    box-shadow: var(--shadow-focus);
  }

  .rt .image[data-inline="true"],
  .rt .video[data-inline="true"] {
    display: inline-block;
  }

  @media (hover: hover) {
    .rt .image[data-interactive="true"],
    .rt .video[data-interactive="true"] {
      cursor: zoom-in;
    }
    .rt .image[data-interactive="true"][data-editable],
    .rt .video[data-interactive="true"][data-editable] {
      cursor: pointer;
    }
  }

  .rt .image > img,
  .rt .video > img {
    display: block;
    border-radius: 0.6rem;
    background: var(--color-surface-secondary);
  }

  .rt .image-caption {
    display: block;
    font-size: 0.875em;
    font-weight: 400;
    color: var(--color-text-dimmed);
    padding: 0.4em 0 0.4em 0.15em;
  }

  .rt .image-caption .text-container {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .rt .grid > * {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    flex-wrap: wrap;
    margin: calc(-1 * var(--default-compact-block-gap)) 0 0
      calc(-1 * var(--default-compact-block-gap));
  }

  .rt .grid > * > * {
    margin: var(--default-compact-block-gap) 0 0 var(--default-compact-block-gap);
    max-width: 100%;
  }

  .rt * + .grid {
    margin-top: var(--default-block-gap);
  }

  .rt .grid:has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt [role="separator"],
  .rt hr {
    border: 0;
    padding: var(--default-block-gap) 0;
    border-radius: 0.3rem;
  }

  .rt [role="separator"]::after,
  .rt hr::after {
    content: "";
    display: block;
    height: 0.1rem;
    width: 100%;
    background: var(--color-border-light);
  }

  .rt [role="separator"][data-focused="true"],
  .rt hr[data-focused="true"] {
    background: var(--color-accent-soft);
  }

  .rt table {
    display: block;
    overflow: auto;
    font-size: 0.875em;
    border-collapse: collapse;
    border-spacing: 0;
  }

  .rt table th,
  .rt table td {
    padding: 0.5em 0.6428571429em;
    border: 0.1rem solid var(--color-border-light);
    min-width: 7em;
  }

  .rt table thead th,
  .rt table thead td {
    font-weight: var(--font-weight-semibold);
  }

  .rt table .image {
    width: auto !important;
  }

  .rt * + table {
    margin-top: var(--default-block-gap);
  }

  .rt table:has(+ *) {
    margin-bottom: var(--default-block-gap);
  }

  .rt em {
    font-style: italic;
  }

  .rt strong {
    font-weight: var(--font-weight-semibold);
  }

  .rt .underline {
    text-decoration: underline;
  }

  .rt[data-inline="true"] p,
  .rt[data-inline="true"] ul,
  .rt[data-inline="true"] ol,
  .rt[data-inline="true"] li,
  .rt[data-inline="true"] h1,
  .rt[data-inline="true"] h2,
  .rt[data-inline="true"] h3,
  .rt[data-inline="true"] h4,
  .rt[data-inline="true"] h5,
  .rt[data-inline="true"] h6,
  .rt[data-inline="true"] aside,
  .rt[data-inline="true"] pre:has(code),
  .rt[data-inline="true"] .grid,
  .rt[data-inline="true"] table,
  .rt[data-inline="true"] button.image,
  .rt[data-inline="true"] [role="separator"],
  .rt[data-inline="true"] hr,
  .rt[data-inline="true"] hr::after,
  .rt[data-inline="true"] [role="separator"]::after {
    display: inline;
    padding: 0;
  }

  .rt[data-inline="true"] blockquote {
    display: inline;
    padding: 0 0 0 0.5em;
  }

  .rt[data-compact="true"] p {
    display: inline;
  }

  .rt[data-compact="true"] * + p::before {
    display: block;
    content: "";
    margin-top: var(--default-compact-block-gap);
  }

  .rt[data-compact="true"] p:has(+ *)::after {
    display: block;
    content: "";
    margin-bottom: var(--default-compact-block-gap);
  }

  .rt[data-compact="true"],
  .rt li {
    * + *:is(ul, ol, blockquote, aside, pre:has(code), .grid, table, [role="separator"], hr) {
      margin-top: var(--default-compact-block-gap);
    }

    *:is(ul, ol, blockquote, aside, pre:has(code), .grid, table, [role="separator"], hr):has(+ *) {
      margin-bottom: var(--default-compact-block-gap);
    }
  }
}
